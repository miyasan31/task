<ion-header>
  <ion-toolbar>
    <ion-title>タスク{{ isEdit ? '編集' : '保存' }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form #f="ngForm">
    <ion-item>
      <ion-label position="floating">タスク名入力</ion-label>
      <ion-input
        type="text"
        name="taskName"
        [(ngModel)]="taskName"
        placeholder="タスクを入力してください"
      ></ion-input>
    </ion-item>

    <ion-grid>
      <ion-row class="ion-align-items-end">
        <ion-col size="10">
          <ion-item>
            <ion-label position="floating">ラベル</ion-label>
            <ion-select name="tagId" [(ngModel)]="tagId">
              <ion-select-option *ngFor="let tag of tagList" value="{{ tag.id }}">{{
                tag.tagName
              }}</ion-select-option>
            </ion-select>
          </ion-item>
        </ion-col>

        <ion-col size="2">
          <ion-fab-button
            size="small"
            expand="block"
            fill="clear"
            shape="round"
            (click)="onPresentTagModal($event)"
          >
            <ion-icon name="pencil"></ion-icon>
          </ion-fab-button>
        </ion-col>
      </ion-row>
    </ion-grid>

    <ion-item>
      <ion-label position="floating">アウトプットメモ</ion-label>
      <ion-textarea rows="6" name="description" [(ngModel)]="description"></ion-textarea>
    </ion-item>

    <ion-item class="ion-align-items-center" detail="false">
      <ion-checkbox slot="start" color="primary" name="isDone" [(ngModel)]="isDone"></ion-checkbox>
      <ion-text class="ion-padding-start">完了</ion-text>
    </ion-item>

    <ion-button expand="block" (click)="onUpsertTask()"
      >{{ isEdit ? '保存' : '作成' }}する</ion-button
    >
    <ion-button expand="block" (click)="onModalDismiss()"> キャンセル </ion-button>
    <ion-button *ngIf="isEdit" color="danger" expand="block" (click)="onDeleteTask(taskId)">
      削除する
    </ion-button>
  </form>
</ion-content>
